<!doctype html><html lang=zh class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.83.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=/web/favicons/favicon.ico><link rel=apple-touch-icon href=/web/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/web/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/web/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/web/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/web/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/web/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/web/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/web/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/web/favicons/android-192x192.png sizes=192x192><title>StatefulSet | Tkestack</title><meta name=description content="生产级别多集群管理系统"><meta property="og:title" content="StatefulSet"><meta property="og:description" content="StatefulSet
"><meta property="og:type" content="article"><meta property="og:url" content="/web/zh/docs/user-guide/business-console/workload-mgmt/workload/statefulset/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-06-30T11:36:37+08:00"><meta property="og:site_name" content="Tkestack"><meta itemprop=name content="StatefulSet"><meta itemprop=description content="StatefulSet
"><meta itemprop=dateModified content="2022-06-30T11:36:37+08:00"><meta itemprop=wordCount content="320"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="StatefulSet"><meta name=twitter:description content="StatefulSet
"><link rel=preload href=/web/scss/main.min.f3f5e11928ea652eef8f11ab959efa477bbd1a85923ff5e0245c83fe74bd312a.css as=style><link href=/web/scss/main.min.f3f5e11928ea652eef8f11ab959efa477bbd1a85923ff5e0245c83fe74bd312a.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/web/zh/><span class=navbar-logo></span><span class="text-uppercase font-weight-bold">Tkestack</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/web/zh/docs/><span>Docs</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/web/zh/blog/><span>Blog</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文 Chinese</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/web/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文 Chinese</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/web/>English</a></div></div><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-webzhdocs-li><a href=/web/zh/docs/ title="TKEStack 文档" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section tree-root" id=m-webzhdocs><span>文档</span></a><ul class="pr-md-3 ul-1"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsoverview-li><a href=/web/zh/docs/overview/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsoverview><span>简介</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsinstallation-li><a href=/web/zh/docs/installation/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsinstallation><span>部署</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsinstallationinstallation-architecture-li><a href=/web/zh/docs/installation/installation-architecture/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsinstallationinstallation-architecture><span>产品部署架构</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsinstallationenvironment-requirement-li><a href=/web/zh/docs/installation/environment-requirement/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsinstallationenvironment-requirement><span>部署环境要求</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsinstallationinstall-gpu-manager-li><a href=/web/zh/docs/installation/install-gpu-manager/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsinstallationinstall-gpu-manager><span>安装使用 GPU</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsinstallationmigration-steps-li><a href=/web/zh/docs/installation/migration-steps/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsinstallationmigration-steps><span>迁移步骤</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsinstallationinstallation-steps-li><a href=/web/zh/docs/installation/installation-steps/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsinstallationinstallation-steps><span>安装步骤</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsinstallationimagesreadme-li><a href=/web/zh/docs/installation/images/readme/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsinstallationimagesreadme><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsquick-start-li><a href=/web/zh/docs/quick-start/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsquick-start><span>快速入门</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsquick-startquick-starts-li><a href=/web/zh/docs/quick-start/quick-starts/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsquick-startquick-starts><span>快速入门</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsquick-startexample-li><a href=/web/zh/docs/quick-start/example/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsquick-startexample><span>入门示例</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsquick-startexamplenginx-example-li><a href=/web/zh/docs/quick-start/example/nginx-example/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsquick-startexamplenginx-example><span>创建nginx服务</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsquick-startexamplehelloword-example-li><a href=/web/zh/docs/quick-start/example/helloword-example/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsquick-startexamplehelloword-example><span>编写HelloWorld程序</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsquick-startexampledocker-image-example-li><a href=/web/zh/docs/quick-start/example/docker-image-example/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsquick-startexampledocker-image-example><span>如何构建Docker镜像</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-webzhdocsuser-guide-li><a href=/web/zh/docs/user-guide/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsuser-guide><span>产品使用指南</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideconsole-switch-li><a href=/web/zh/docs/user-guide/console-switch/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideconsole-switch><span>切换控制台</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsuser-guideplatform-console-li><a href=/web/zh/docs/user-guide/platform-console/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsuser-guideplatform-console><span>平台管理控制台</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consoleoverview-li><a href=/web/zh/docs/user-guide/platform-console/overview/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consoleoverview><span>概览</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consolecluster-mgmt-li><a href=/web/zh/docs/user-guide/platform-console/cluster-mgmt/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consolecluster-mgmt><span>集群管理</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consolebusiness-mgmt-li><a href=/web/zh/docs/user-guide/platform-console/business-mgmt/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consolebusiness-mgmt><span>业务管理</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsuser-guideplatform-consoleaddon-mgmt-li><a href=/web/zh/docs/user-guide/platform-console/addon-mgmt/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsuser-guideplatform-consoleaddon-mgmt><span>扩展组件</span></a><ul class="pr-md-3 ul-4"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consoleaddon-mgmttappcontroller-li><a href=/web/zh/docs/user-guide/platform-console/addon-mgmt/tappcontroller/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consoleaddon-mgmttappcontroller><span>TApp 介绍</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consoleaddon-mgmtcronhpa-li><a href=/web/zh/docs/user-guide/platform-console/addon-mgmt/cronhpa/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consoleaddon-mgmtcronhpa><span>CronHPA 介绍</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consoleaddon-mgmtprometheus-li><a href=/web/zh/docs/user-guide/platform-console/addon-mgmt/prometheus/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consoleaddon-mgmtprometheus><span>监控组件</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consoleaddon-mgmtlogagent-li><a href=/web/zh/docs/user-guide/platform-console/addon-mgmt/logagent/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consoleaddon-mgmtlogagent><span>LogAgent 介绍</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consoleaddon-mgmtgpumanger-li><a href=/web/zh/docs/user-guide/platform-console/addon-mgmt/gpumanger/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consoleaddon-mgmtgpumanger><span>GPUManager 介绍</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consoleaddon-mgmtcsioperator-li><a href=/web/zh/docs/user-guide/platform-console/addon-mgmt/csioperator/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consoleaddon-mgmtcsioperator><span>CSIOperator 介绍</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsuser-guideplatform-consoleregistry-mgmt-li><a href=/web/zh/docs/user-guide/platform-console/registry-mgmt/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsuser-guideplatform-consoleregistry-mgmt><span>组织资源</span></a><ul class="pr-md-3 ul-4"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consoleregistry-mgmtregistry-li><a href=/web/zh/docs/user-guide/platform-console/registry-mgmt/registry/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consoleregistry-mgmtregistry><span>镜像仓库管理</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consoleregistry-mgmthelm-repo-li><a href=/web/zh/docs/user-guide/platform-console/registry-mgmt/helm-repo/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consoleregistry-mgmthelm-repo><span>Helm模板</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consoleregistry-mgmtapikey-li><a href=/web/zh/docs/user-guide/platform-console/registry-mgmt/apikey/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consoleregistry-mgmtapikey><span>访问凭证</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsuser-guideplatform-consoleaccess-mgmt-li><a href=/web/zh/docs/user-guide/platform-console/access-mgmt/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsuser-guideplatform-consoleaccess-mgmt><span>访问管理</span></a><ul class="pr-md-3 ul-4"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consoleaccess-mgmtpolicy-li><a href=/web/zh/docs/user-guide/platform-console/access-mgmt/policy/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consoleaccess-mgmtpolicy><span>策略管理</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consoleaccess-mgmtuser-li><a href=/web/zh/docs/user-guide/platform-console/access-mgmt/user/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consoleaccess-mgmtuser><span>用户管理</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsuser-guideplatform-consolemonitor-alert-li><a href=/web/zh/docs/user-guide/platform-console/monitor-alert/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsuser-guideplatform-consolemonitor-alert><span>监控&告警</span></a><ul class="pr-md-3 ul-4"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consolemonitor-alertalertmetrics-li><a href=/web/zh/docs/user-guide/platform-console/monitor-alert/alertmetrics/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consolemonitor-alertalertmetrics><span>告警记录</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consolemonitor-alertnotification-li><a href=/web/zh/docs/user-guide/platform-console/monitor-alert/notification/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consolemonitor-alertnotification><span>通知设置</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consolemonitor-alertalertsetting-li><a href=/web/zh/docs/user-guide/platform-console/monitor-alert/alertsetting/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consolemonitor-alertalertsetting><span>告警设置</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsuser-guideplatform-consoleoperation-mgmt-li><a href=/web/zh/docs/user-guide/platform-console/operation-mgmt/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsuser-guideplatform-consoleoperation-mgmt><span>运维中心</span></a><ul class="pr-md-3 ul-4"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consoleoperation-mgmthelm-li><a href=/web/zh/docs/user-guide/platform-console/operation-mgmt/helm/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consoleoperation-mgmthelm><span>Helm应用</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consoleoperation-mgmtlog-collect-li><a href=/web/zh/docs/user-guide/platform-console/operation-mgmt/log-collect/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consoleoperation-mgmtlog-collect><span>日志采集</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consoleoperation-mgmtaudit-li><a href=/web/zh/docs/user-guide/platform-console/operation-mgmt/audit/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consoleoperation-mgmtaudit><span>审计记录</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guideplatform-consoleoperation-mgmtpersistentevent-li><a href=/web/zh/docs/user-guide/platform-console/operation-mgmt/persistentevent/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guideplatform-consoleoperation-mgmtpersistentevent><span>事件持久化</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-webzhdocsuser-guidebusiness-console-li><a href=/web/zh/docs/user-guide/business-console/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsuser-guidebusiness-console><span>业务管理控制台</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmt-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmt><span>应用管理</span></a><ul class="pr-md-3 ul-4"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtnamespace-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/namespace/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtnamespace><span>命名空间</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtworkload-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/workload/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtworkload><span>工作负载</span></a><ul class="pr-md-3 ul-5"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtworkloaddevelopment-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/workload/development/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtworkloaddevelopment><span>Deployment</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtworkloadstatefulset-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/workload/statefulset/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtworkloadstatefulset><span class=td-sidebar-nav-active-item>StatefulSet</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtworkloaddaomonset-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/workload/daomonset/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtworkloaddaomonset><span>DaomonSet</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtworkloadjob-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/workload/job/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtworkloadjob><span>Job</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtworkloadcronjob-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/workload/cronjob/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtworkloadcronjob><span>CronJob</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtworkloadtapp-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/workload/tapp/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtworkloadtapp><span>TApp</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtworkloadrequest-limits-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/workload/request-limits/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtworkloadrequest-limits><span>工作负载的请求与限制</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtfu-wu-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/fu-wu/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtfu-wu><span>服务</span></a><ul class="pr-md-3 ul-5"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtfu-wuservice-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/fu-wu/service/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtfu-wuservice><span>Service</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtfu-wuingress-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/fu-wu/ingress/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtfu-wuingress><span>Ingress</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtpei-zhi-guan-li-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/pei-zhi-guan-li/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtpei-zhi-guan-li><span>配置管理</span></a><ul class="pr-md-3 ul-5"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtpei-zhi-guan-liconfigmap-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/pei-zhi-guan-li/configmap/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtpei-zhi-guan-liconfigmap><span>ConfigMap</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtpei-zhi-guan-lisecret-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/pei-zhi-guan-li/secret/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtpei-zhi-guan-lisecret><span>Sercet</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtcun-chu-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/cun-chu/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtcun-chu><span>存储</span></a><ul class="pr-md-3 ul-5"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtcun-chupv-he-pvc-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/cun-chu/pv-he-pvc/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtcun-chupv-he-pvc><span>PV和PVC</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtcun-chustorageclass-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/cun-chu/storageclass/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtcun-chustorageclass><span>StorageClass</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtshi-jian-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/shi-jian/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtshi-jian><span>事件</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtlog-li><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/log/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleworkload-mgmtlog><span>日志</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consolebusiness-mgmt-li><a href=/web/zh/docs/user-guide/business-console/business-mgmt/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consolebusiness-mgmt><span>业务管理</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsuser-guidebusiness-consoleregistry-mgmt-li><a href=/web/zh/docs/user-guide/business-console/registry-mgmt/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsuser-guidebusiness-consoleregistry-mgmt><span>组织资源</span></a><ul class="pr-md-3 ul-4"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleregistry-mgmtrepo-mgmt-li><a href=/web/zh/docs/user-guide/business-console/registry-mgmt/repo-mgmt/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleregistry-mgmtrepo-mgmt><span>镜像仓库管理</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleregistry-mgmthelm-repo-li><a href=/web/zh/docs/user-guide/business-console/registry-mgmt/helm-repo/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleregistry-mgmthelm-repo><span>Helm模板</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleregistry-mgmtapikey-mgmt-li><a href=/web/zh/docs/user-guide/business-console/registry-mgmt/apikey-mgmt/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleregistry-mgmtapikey-mgmt><span>访问凭证</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsuser-guidebusiness-consolemonitor-alert-li><a href=/web/zh/docs/user-guide/business-console/monitor-alert/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsuser-guidebusiness-consolemonitor-alert><span>监控与告警</span></a><ul class="pr-md-3 ul-4"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consolemonitor-alertalerts-li><a href=/web/zh/docs/user-guide/business-console/monitor-alert/alerts/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consolemonitor-alertalerts><span>设置告警</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consolemonitor-alertnotifier-li><a href=/web/zh/docs/user-guide/business-console/monitor-alert/notifier/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consolemonitor-alertnotifier><span>通知设置</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsuser-guidebusiness-consoleoperation-mgmt-li><a href=/web/zh/docs/user-guide/business-console/operation-mgmt/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsuser-guidebusiness-consoleoperation-mgmt><span>运维中心</span></a><ul class="pr-md-3 ul-4"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleoperation-mgmthelm-li><a href=/web/zh/docs/user-guide/business-console/operation-mgmt/helm/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleoperation-mgmthelm><span>Helm应用</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consoleoperation-mgmtlog-collection-li><a href=/web/zh/docs/user-guide/business-console/operation-mgmt/log-collection/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consoleoperation-mgmtlog-collection><span>日志采集</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsuser-guidebusiness-consolehelm-mgmt-li><a href=/web/zh/docs/user-guide/business-console/helm-mgmt/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsuser-guidebusiness-consolehelm-mgmt><span></span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocskey-features-li><a href=/web/zh/docs/key-features/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocskey-features><span>特色功能</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocskey-featurestapp-li><a href=/web/zh/docs/key-features/tapp/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocskey-featurestapp><span>TAPP</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocskey-featuresgalaxy-li><a href=/web/zh/docs/key-features/galaxy/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocskey-featuresgalaxy><span>Galaxy</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocskey-featurescronhpa-li><a href=/web/zh/docs/key-features/cronhpa/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocskey-featurescronhpa><span>CronHPA</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocskey-featuresgpumanager-li><a href=/web/zh/docs/key-features/gpumanager/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocskey-featuresgpumanager><span>GPU-Manager说明</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocskey-featureslbcf-li><a href=/web/zh/docs/key-features/lbcf/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocskey-featureslbcf><span>LBCF说明</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsbest-practice-li><a href=/web/zh/docs/best-practice/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsbest-practice><span>最佳实践</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsbest-practicek8s-upgrade-li><a href=/web/zh/docs/best-practice/k8s-upgrade/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsbest-practicek8s-upgrade><span>K8S 版本升级说明</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsbest-practicecustom-k8s-version-upgrade-li><a href=/web/zh/docs/best-practice/custom-k8s-version-upgrade/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsbest-practicecustom-k8s-version-upgrade><span>自定义k8s版本升级</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsbest-practiceprivate-environment-install-li><a href=/web/zh/docs/best-practice/private-environment-install/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsbest-practiceprivate-environment-install><span>wx 私有化部署最佳实践</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsbest-practicestorage-practice-li><a href=/web/zh/docs/best-practice/storage-practice/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsbest-practicestorage-practice><span>使用存储的实践</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsbest-practicejenkins-cicd-li><a href=/web/zh/docs/best-practice/jenkins-cicd/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsbest-practicejenkins-cicd><span>基于 Jenkins 的 CI/CD</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsdevelop-li><a href=/web/zh/docs/develop/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsdevelop><span>开发指引</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsdevelopapi-li><a href=/web/zh/docs/develop/api/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsdevelopapi><span>API 使用指引</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsfaq-li><a href=/web/zh/docs/faq/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsfaq><span>FAQ</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsfaqinstallation-li><a href=/web/zh/docs/faq/installation/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsfaqinstallation><span>部署类</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsfaqinstallationfrequently-answer-li><a href=/web/zh/docs/faq/installation/frequently-answer/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsfaqinstallationfrequently-answer><span>常见报错解决方法</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsfaqinstallationresource-plan-li><a href=/web/zh/docs/faq/installation/resource-plan/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsfaqinstallationresource-plan><span>如何规划部署资源</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsfaqinstallationstorage-suggest-li><a href=/web/zh/docs/faq/installation/storage-suggest/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsfaqinstallationstorage-suggest><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsfaqplatforms-li><a href=/web/zh/docs/faq/platforms/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsfaqplatforms><span>平台类</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsfaqplatformsmetricsinfo-li><a href=/web/zh/docs/faq/platforms/metricsinfo/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsfaqplatformsmetricsinfo><span>监控告警指标列表</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsfaqplatformsplatform-questions-li><a href=/web/zh/docs/faq/platforms/platform-questions/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsfaqplatformsplatform-questions><span>平台使用常见问题</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsfaqplatformsfrequently-answers-li><a href=/web/zh/docs/faq/platforms/frequently-answers/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsfaqplatformsfrequently-answers><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsfaqpermission-li><a href=/web/zh/docs/faq/permission/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsfaqpermission><span>授权类</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsfaqpermissionldap-oidc-li><a href=/web/zh/docs/faq/permission/ldap-oidc/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsfaqpermissionldap-oidc><span>如何接入LDAP&OIDC</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsfaqpermissionbusiness-platform-li><a href=/web/zh/docs/faq/permission/business-platform/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsfaqpermissionbusiness-platform><span>业务管理、平台管理的区别</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsfaqpermissioncustom-policy-li><a href=/web/zh/docs/faq/permission/custom-policy/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsfaqpermissioncustom-policy><span>如何设置自定义策略</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsfaqpermissiondockerlogin-error-li><a href=/web/zh/docs/faq/permission/dockerlogin-error/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsfaqpermissiondockerlogin-error><span>Docker login 权限错误</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsfaqevents-li><a href=/web/zh/docs/faq/events/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsfaqevents><span>事件类</span></a><ul class="pr-md-3 ul-3"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsfaqeventsfrequently-event-li><a href=/web/zh/docs/faq/events/frequently-event/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsfaqeventsfrequently-event><span>常见错误事件</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsfaqfunctionalcustom-metrics-li><a href=/web/zh/docs/faq/functional/custom-metrics/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsfaqfunctionalcustom-metrics><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsfaqfunctionalldap-oidc-li><a href=/web/zh/docs/faq/functional/ldap-oidc/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsfaqfunctionalldap-oidc><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsfaqfunctionallog-analysis-li><a href=/web/zh/docs/faq/functional/log-analysis/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsfaqfunctionallog-analysis><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsfaqfunctionalreadme-li><a href=/web/zh/docs/faq/functional/readme/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsfaqfunctionalreadme><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-webzhdocsrelease-li><a href=/web/zh/docs/release/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id=m-webzhdocsrelease><span>Release Notes</span></a><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsreleaserelease15-li><a href=/web/zh/docs/release/release1.5/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsreleaserelease15><span>1.5</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsreleaserelease14-li><a href=/web/zh/docs/release/release1.4/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsreleaserelease14><span>1.4</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-webzhdocsreleaserelease13-li><a href=/web/zh/docs/release/release1.3/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-webzhdocsreleaserelease13><span>1.3</span></a></li></ul></li></ul></li></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/tkestack/web/edit/master/content/zh/docs/user-guide/business-console/workload-mgmt/workload/statefulset.md target=_blank><i class="fa fa-edit fa-fw"></i> 编辑此页</a>
<a href="https://github.com/tkestack/web/new/master/content/zh/docs/user-guide/business-console/workload-mgmt/workload/statefulset.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> 添加子页面</a>
<a href="https://github.com/tkestack/web/issues/new?title=StatefulSet" target=_blank><i class="fab fa-github fa-fw"></i> 提交文档问题</a>
<a id=print href=/web/zh/docs/user-guide/business-console/workload-mgmt/workload/_print/><i class="fa fa-print fa-fw"></i> 整节打印</a></div><nav id=TableOfContents><ul><li><a href=#statefulset-控制台操作指引>StatefulSet 控制台操作指引</a><ul><li><a href=#创建-statefulset>创建 StatefulSet</a></li><li><a href=#更新-statefulset>更新 StatefulSet</a></li></ul></li><li><a href=#kubectl-操作-statefulset-指引>Kubectl 操作 StatefulSet 指引</a><ul><li><a href=#yaml-示例>YAML 示例</a></li><li><a href=#创建-statefulset-1>创建 StatefulSet</a></li><li><a href=#更新-statefulset-1>更新 StatefulSet</a></li><li><a href=#删除-statefulset>删除 StatefulSet</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=/web/zh/docs/>文档</a></li><li class=breadcrumb-item><a href=/web/zh/docs/user-guide/>产品使用指南</a></li><li class=breadcrumb-item><a href=/web/zh/docs/user-guide/business-console/>业务管理控制台</a></li><li class=breadcrumb-item><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/>应用管理</a></li><li class=breadcrumb-item><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/workload/>工作负载</a></li><li class="breadcrumb-item active" aria-current=page><a href=/web/zh/docs/user-guide/business-console/workload-mgmt/workload/statefulset/>StatefulSet</a></li></ol></nav><div class=td-content><h1>StatefulSet</h1><div class=lead>StatefulSet</div><p>StatefulSet 主要用于管理<strong>有状态</strong>的应用，创建的 Pod 拥有根据规范创建的持久型标识符。Pod 迁移或销毁重启后，<strong>标识符仍会保留</strong>。 在需要持久化存储时，您可以通过标识符对存储卷进行一一对应。如果应用程序不需要持久的标识符，建议您使用 Deployment 部署应用程序。</p><h2 id=statefulset-控制台操作指引>StatefulSet 控制台操作指引</h2><h3 id=创建-statefulset>创建 StatefulSet</h3><ul><li>登录TKEStack，切换到【业务管理】控制台，选择左侧导航栏中的【应用管理】。</li><li>选择需要创建StatefulSet的【业务】下相应的【命名空间】，展开【工作负载】下拉项，进入【StatefulSet】管理页面。如下图所示：</li></ul><p><img src=../../../../../../images/StatefulSet.png alt></p><ul><li><p>单击【新建】，进入 “新建Workload” 页面。根据实际需求，设置 StatefulSet 参数。</p></li><li><p>关键参数信息如下，其中必填项为<strong>工作负载名</strong>、<strong>实例内容器的名称和镜像</strong>：</p><ul><li><strong>工作负载名</strong>：输入自定义名称。</li><li><strong>标签</strong>：给工作负载添加标签</li><li><strong>命名空间</strong>：根据实际需求进行选择。</li><li><strong>类型</strong>：选择【StatefulSet】。</li><li><strong>数据卷</strong>：根据需求，为负载添加数据卷为容器提供存，目前支持临时路径、主机路径、云硬盘数据卷、文件存储NFS、配置文件、PVC，还需挂载到容器的指定路径中</li><li><strong>临时目录</strong>：主机上的一个临时目录，生命周期和Pod一致</li><li><strong>主机路径</strong>：主机上的真实路径，可以重复使用，不会随Pod一起销毁</li><li><strong>NFS盘</strong>：挂载外部NFS到Pod，用户需要指定相应NFS地址，格式：127.0.0.1:/data</li><li><strong>ConfigMap</strong>：用户在业务Namespace下创建的<a href=../../pei-zhi-guan-li/configmap>ConfigMap</a></li><li><strong>Secret</strong>：用户在业务namespace下创建的<a href=../../pei-zhi-guan-li/secret>Secret</a></li><li><strong>PVC</strong>：用户在业务namespace下创建的<a href=../../cun-chu/pv-he-pvc>PVC</a></li><li><strong>实例内容器</strong>：根据实际需求，为 StatefulSet的一个 Pod 设置一个或多个不同的容器。</li><li><strong>名称</strong>：自定义</li><li><strong>镜像</strong>：根据实际需求进行选择<ul><li><strong>镜像版本（Tag）</strong>：根据实际需求进行填写，不填默认为<code>latest</code></li><li><strong>CPU/内存限制</strong>：可根据 <a href=https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/>Kubernetes 资源限制</a> 进行设置 CPU 和内存的限制范围，提高业务的健壮性（<strong>建议使用默认值</strong>）</li><li><strong>GPU限制</strong>：如容器内需要使用GPU，此处填GPU需求</li><li><strong>环境变量</strong>：用于设置容器内的变量，变量名只能包含大小写字母、数字及下划线，并且不能以数字开头<ul><li><strong>新增变量</strong>：自己设定变量键值对</li><li><strong>引用ConfigMap/Secret</strong>：引用已有键值对</li></ul></li><li><strong>高级设置</strong>：可设置 “<strong>工作目录</strong>”、“<strong>运行命令</strong>”、“<strong>运行参数</strong>”、“<strong>镜像更新策略</strong>”、“<strong>容器健康检查</strong>”和“<strong>特权级</strong>”等参数。这里介绍一下镜像更新策略。<ul><li><p><strong>镜像更新策略</strong>：提供以下3种策略，请按需选择</p><p>若不设置镜像拉取策略，当镜像版本为空或 <code>latest</code> 时，使用 Always 策略，否则使用 IfNotPresent 策略</p><ul><li><strong>Always</strong>：总是从远程拉取该镜像</li><li><strong>IfNotPresent</strong>：默认使用本地镜像，若本地无该镜像则远程拉取该镜像</li><li><strong>Never</strong>：只使用本地镜像，若本地没有该镜像将报异常</li></ul></li></ul></li></ul></li><li><strong>实例数量</strong>：根据实际需求选择调节方式，设置实例数量。</li><li><strong>手动调节</strong>：直接设定实例个数</li><li><strong>自动调节</strong>：根据设定的触发条件自动调节实例个数，目前支持根据CPU、内存利用率和利用量出入带宽等调节实例个数</li><li><strong>定时调节</strong>：根据Crontab 语法周期性设置实例个数</li><li><strong>imagePullSecrets</strong>：镜像拉取密钥，用于拉取用户的私有镜像</li><li><strong>节点调度策略</strong>：根据配置的调度规则，将Pod调度到预期的节点。支持指定节点调度和条件选择调度</li><li><strong>注释（Annotations）</strong>：给StatefulSet添加相应Annotation，如用户信息等</li><li><strong>网络模式</strong>：选择Pod网络模式</li><li><strong>OverLay（虚拟网络）</strong>：基于 IPIP 和 Host Gateway 的 Overlay 网络方案</li><li><strong>FloatingIP（浮动 IP）</strong>：支持容器、物理机和虚拟机在同一个扁平面中直接通过IP进行通信的 Underlay 网络方案。提供了 IP 漂移能力，支持 Pod 重启或迁移时 IP 不变</li><li><strong>NAT（端口映射）</strong>：Kubernetes 原生 NAT 网络方案</li><li><strong>Host（主机网络）</strong>：Kubernetes 原生 Host 网络方案</li><li><strong>Service</strong>：勾选【启用】按钮，配置负载端口访问</li></ul><blockquote><p>注意：如果不勾选【启用】则不会创建Service</p></blockquote></li><li><p><strong>服务访问方式</strong>：选择是【仅在集群内部访问】该负载还是集群外部通过【主机端口访问】该负载</p><ul><li><strong>仅在集群内访问</strong>：使用 Service 的 ClusterIP 模式，自动分配 Service 网段中的 IP，用于集群内访问。数据库类等服务如 MySQL 可以选择集群内访问，以保证服务网络隔离</li><li><strong>主机端口访问</strong>：提供一个主机端口映射到容器的访问方式，支持 TCP、UDP、Ingress。可用于业务定制上层 LB 转发到 Node</li><li><strong>Headless Service</strong>：不创建用于集群内访问的ClusterIP，访问Service名称时返回后端Pods IP地址，用于适配自有的服务发现机制。解析域名时返回相应 Pod IP 而不是 Cluster IP</li></ul></li><li><p><strong>端口映射</strong>：输入负载要暴露的端口并指定通信协议类型（<strong>容器和服务端口建议都使用80</strong>）</p></li><li><p><strong>Session Affinity:</strong> 点击【显示高级设置】出现，会话保持，设置会话保持后，会根据请求IP把请求转发给这个IP之前访问过的Pod。默认None，按需使用</p></li><li><p>单击【创建Workload】，完成创建。</p></li></ul><h3 id=更新-statefulset>更新 StatefulSet</h3><h4 id=更新-yaml>更新 YAML</h4><ol><li>登录TKEStack，切换到【业务管理】控制台，选择左侧导航栏中的【应用管理】。</li><li>选择需要更新的【业务】下相应的【命名空间】，展开【工作负载】列表，进入【StatefulSet】管理页面。</li><li>在需要更新 YAML 的 StatefulSet 行中，选择【更多】>【编辑YAML】，进入更新 StatefulSet 页面。</li><li>在 “更新StatefulSet” 页面编辑 YAML，并单击【完成】即可更新 YAML。</li></ol><h2 id=kubectl-操作-statefulset-指引>Kubectl 操作 StatefulSet 指引</h2><h3 id=yaml-示例>YAML 示例</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>v1</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Service </span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>## 创建一个 Headless Service，用于控制网络域</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nginx</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>namespace</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>default</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>labels</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>app</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nginx</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>ports</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>80</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>web</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>clusterIP</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>None</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>selector</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>app</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nginx</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>---</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>apps/v1</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>StatefulSet</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>### 创建一个 Nginx的StatefulSet</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>web</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>namespace</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>default</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>selector</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>matchLabels</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>app</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nginx</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>serviceName</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;nginx&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>replicas</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># by default is 1</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>template</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>labels</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>app</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nginx</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>terminationGracePeriodSeconds</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>containers</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nginx</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nginx:latest</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>ports</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#204a87;font-weight:700>containerPort</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>80</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>web</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>volumeMounts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>www</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>mountPath</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/usr/share/nginx/html</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>volumeClaimTemplates</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>www</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>accessModes</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;ReadWriteOnce&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>storageClassName</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;cbs&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>resources</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>requests</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>storage</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>10Gi</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><ul><li><strong>kind</strong>：标识 StatefulSet 资源类型。</li><li><strong>metadata</strong>：StatefulSet 的名称、Label等基本信息。</li><li><strong>metadata.annotations</strong>：对 StatefulSet 的额外说明，可通过该参数设置腾讯云 TKE 的额外增强能力。</li><li><strong>spec.template</strong>：StatefulSet 管理的 Pod 的详细模板配置。</li><li><strong>spec.volumeClaimTemplates</strong>：提供创建 PVC&PV 的模板。</li></ul><p>更多参数详情可查看 <a href=https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/>Kubernetes StatefulSet 官方文档</a>。</p><h3 id=创建-statefulset-1>创建 StatefulSet</h3><ol><li><p>参考 <a href=../statefulset#YAMLSample>YAML 示例</a>，准备 StatefulSet YAML 文件。</p></li><li><p>安装 Kubectl，并连接集群。操作详情请参考 <a href=https://cloud.tencent.com/document/product/457/8438>通过 Kubectl 连接集群</a>。</p></li><li><p>执行以下命令，创建 StatefulSet YAML 文件。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>kubectl create -f StatefulSet YAML 文件名称
</code></pre></div><p>例如，创建一个文件名为 web.yaml 的 StatefulSet YAML 文件，则执行以下命令：</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>kubectl create -f web.yaml
</code></pre></div></li><li><p>执行以下命令，验证创建是否成功。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>kubectl get StatefulSet
</code></pre></div><p>返回类似以下信息，即表示创建成功。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>NAME      DESIRED   CURRENT   AGE
test      1         1         10s
</code></pre></div></li></ol><h3 id=更新-statefulset-1>更新 StatefulSet</h3><p>执行以下命令，查看 StatefulSet 的更新策略类型。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>kubectl get ds/&lt;daemonset-name&gt; -o go-template=&#39;{{.spec.updateStrategy.type}}{{&#34;\n&#34;}}&#39;
</code></pre></div><p>StatefulSet 有以下两种更新策略类型：</p><ul><li>OnDelete：默认更新策略。该更新策略在更新 StatefulSet 后，需手动删除旧的 StatefulSet Pod 才会创建新的 StatefulSet Pod。</li><li>RollingUpdate：支持 Kubernetes 1.7或更高版本。该更新策略在更新 StatefulSet 模板后，旧的 StatefulSet Pod 将被终止，并且以滚动更新方式创建新的 StatefulSet Pod（Kubernetes 1.7或更高版本）。</li></ul><h4 id=方法一>方法一</h4><p>执行以下命令，更新 StatefulSet。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>kubectl edit StatefulSet/[name]
</code></pre></div><p>此方法适用于简单的调试验证，不建议在生产环境中直接使用。您可以通过此方法更新任意的 StatefulSet 参数。</p><h4 id=方法二>方法二</h4><p>执行以下命令，更新指定容器的镜像。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>kubectl patch statefulset &lt;NAME&gt; --type=&#39;json&#39; -p=&#39;[{&#34;op&#34;: &#34;replace&#34;, &#34;path&#34;: &#34;/spec/template/spec/containers/0/image&#34;, &#34;value&#34;:&#34;&lt;newImage&gt;&#34;}]&#39;
</code></pre></div><p>建议保持 StatefulSet 的其他参数不变，业务更新时，仅更新容器镜像。</p><p>如果更新的 StatefulSet 是滚动更新方式的策略，可执行以下命令查看更新状态：</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>kubectl rollout status sts/&lt;StatefulSet-name&gt;
</code></pre></div><h3 id=删除-statefulset>删除 StatefulSet</h3><p>执行以下命令，删除 StatefulSet。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>kubectl delete  StatefulSet [NAME] --cascade=false
</code></pre></div><p>&ndash;cascade=false 参数表示 Kubernetes 仅删除 StatefulSet，且不删除任何 Pod。如需删除 Pod，则执行以下命令：</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>kubectl delete  StatefulSet [NAME]
</code></pre></div><p>更多 StatefulSet 相关操作可查看 <a href=https://kubernetes.io/docs/tutorials/stateful-application/basic-stateful-set/#scaling-a-statefulset>Kubernetes官方指引</a>。</p><div class="text-muted mt-5 pt-3 border-top">最后修改
June 30, 2022
: <a href=https://github.com/tkestack/web/commit/1d83e430de2338addfc5bb84df41fdb51b075349>Set theme jekyll-theme-merlot (1d83e43)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/tkestack/tke aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 The TKEStack Authors All Rights Reserved</small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/web/js/main.min.1911ee3ae98d7d6df3807cd00d8e31ae7d1c08ee0f0bb587529b0483da4e5464.js integrity="sha256-GRHuOumNfW3zgHzQDY4xrn0cCO4PC7WHUpsEg9pOVGQ=" crossorigin=anonymous></script></body></html>